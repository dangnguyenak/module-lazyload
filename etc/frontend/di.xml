<?xml version="1.0"?>
<!--
/**
 * Copyright Â© 2017 Ihor Vansach (ihor@magefan.com). All rights reserved.
 * See LICENSE.txt for license details (http://opensource.org/licenses/osl-3.0.php).
 *
 * Glory to Ukraine! Glory to the heroes!
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <type name="Magento\Framework\View\Element\AbstractBlock">
        <plugin name="magefan_lazyload_lock"
                type="Magefan\LazyLoad\Plugin\BlockPlugin" sortOrder="1000"/>
    </type>
    <type name="Magento\Cms\Block\Block">
        <plugin name="magefan_lazyload_lock"
                type="Magefan\LazyLoad\Plugin\BlockPlugin" sortOrder="1000"/>
    </type>
    <!-- Integration with Amasty_PageSpeedOptimizer -->
    <type name="Amasty\PageSpeedOptimizer\Model\Output\LazyLoadProcessor">
        <plugin name="magefan_lazyLoad_plugin_amasty_pagespeedoptimizer_model_output_lazyloadprocessor_plugin"
                type="Magefan\LazyLoad\Plugin\Amasty\PageSpeedOptimizer\Model\Output\LazyLoadProcessorPlugin" sortOrder="1000"/>
    </type>
</config>